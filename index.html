<html>
<head>
<script>
var game = {
	coins:1,
	incomes:[0,0,0,0,0,0,0,0],
	costs:[1,100,1e4,1e7,1e10,1e14,1e18,1e23],
	costmult:[2,3,4,6,10,15,25,40],
	amounts:[0,0,0,0,0,0,0,0],
	multipliers:[1,1,1,1,1,1,1,1],
	progress:[0,0,0,0,0,0,0,0],
	totalCoins:0,
	prestigeCount:0,
	boost:1,
	notation:0,
	time:new Date().getTime(),
	upgradeCoins:0,
	upgrades:[]
}
function abbreviate(i) {
	var units = ["","U","Du","T","Q","Qi","S","Sp","O","N"]
	var tens = ["","D","V","Tg","Qg","Qig","Sg","SPg","Og","Ng"]
	var hundreds = ["","C","Dc","Tc","Qc","Qic","Sc","Spc","Oc","Nc"]
	var i2=Math.floor(i/10);
	var i3=Math.floor(i2/10);
	if(i==0) return "K";
	if(i==1) return "M";
	if(i==2) return "B";
	var unit = units[i%10];
	var ten = tens[i2%10];
	var hundred = hundreds[i3%10];
	return unit+ten+hundred;
}
function format(a) {
	if(a < 10000) return Math.round(1000*a)/1000;
	var exponent = Math.floor(Math.log10(a));
	var mantissa = Math.round(1000*Math.pow(10,Math.log10(a)-exponent))/1000;
	if(mantissa>9.9995) {
		mantissa = 1;
		exponent++;
	}
	var exponent2 = 3*Math.floor(exponent/3);
	var mantissa2 = Math.round(1000*mantissa*Math.pow(10,exponent-exponent2))/1000;
	var index = exponent2/3;
	var log = Math.round(1000*Math.log10(a))/1000;
	if(game.notation==0) return mantissa2+abbreviate(index-1)
	if(game.notation==1) return mantissa+"e"+exponent
	if(game.notation==2) return mantissa2+"e"+exponent2
	if(game.notation==3) return "e"+log
}
function update(set,get){
	document.getElementById(set).innerHTML=get
}
function showElement(elementID) {
	document.getElementById(elementID).style.display="inline-block"
}
function hideElement(elementID) {
	document.getElementById(elementID).style.display="none"
}
function getprestige() {
	product = 1;
	for(var i=0;i<=7;i++) product*=Math.pow(game.amounts[i],0.025)
	return product/100
}
function getUC() {
	return Math.floor(Math.pow(game.coins/1e63,0.03))
}
function prestige() {
	game = {
		coins:1,
		incomes:[0,0,0,0,0,0,0,0],
		costs:[1,100,1e4,1e7,1e10,1e14,1e18,1e23],
		costmult:[2,3,4,6,10,15,25,40],
		amounts:[0,0,0,0,0,0,0,0],
		multipliers:[getprestige(),getprestige(),getprestige(),getprestige(),getprestige(),getprestige(),getprestige(),getprestige()],
		progress:[0,0,0,0,0,0,0,0],
		prestigecount:game.prestigecount+1,
		boost:getprestige(),
		notation:game.notation,
		time:game.time,
		totalCoins:game.totalCoins,
		upgradeCoins:game.upgradeCoins,
		upgrades:game.upgrades
	}
	showElement("prestigeInfo")
	update("prestigeBoost",format(game.boost))
	hideElement("prestigeButton")
}
function upgrade() {
	game = {
		coins:1,
		incomes:[0,0,0,0,0,0,0,0],
		costs:[1,100,1e4,1e7,1e10,1e14,1e18,1e23],
		costmult:[2,3,4,6,10,15,25,40],
		amounts:[0,0,0,0,0,0,0,0],
		multipliers:[1,1,1,1,1,1,1,1],
		progress:[0,0,0,0,0,0,0,0],
		prestigecount:0,
		boost:getprestige(),
		notation:game.notation,
		time:game.time,
		totalCoins:game.totalCoins,
		upgradeCoins:game.upgradeCoins+getUC(),
		upgrades:game.upgrades
	}
	hideElement("UCButton")
}
function hardReset() {
	if(confirm("Are you sure you want to hard reset? This will erase all your progress.")) {
		game = {
			coins:1,
			incomes:[0,0,0,0,0,0,0,0],
			costs:[1,100,1e4,1e7,1e10,1e14,1e18,1e23],
			costmult:[2,3,4,6,10,15,25,40],
			amounts:[0,0,0,0,0,0,0,0],
			multipliers:[1,1,1,1,1,1,1,1],
			progress:[0,0,0,0,0,0,0,0],
			prestigecount:0,
			boost:1,
			notation:game.notation,
			time:new Date().getTime(),
			totalCoins:game.totalCoins,
			upgradeCoins:0,
			upgrades:[]
		}
	hideElement("prestigeInfo")
	hideElement("UCButton")
	}
}
function buy(n) {
	if(n==1) {
		if(game.costs[0]>game.coins) return 0;
		game.coins-=game.costs[0];
		game.amounts[0]+=1;
		game.costs[0]=game.costs[0]*game.costmult[0];
		game.progress[0]++;
		game.incomes[0]+=game.multipliers[0];
		if(game.progress[0]==8) {
			game.multipliers[0]*=1.5;
			game.incomes[0] = game.incomes[0]*1.5;
			game.progress[0]=0;
		}
		update("coinbox",format(game.coins));
		update("incomebox",format(game.incomes[0]));
		update("c1",format(game.costs[0]));
		update("a1",format(game.amounts[0]));
		update("m1",format(game.multipliers[0]));
		update("p1",game.progress[0]);
	}else{
		if(game.costs[n-1]>game.coins) return 0;
		game.coins-=game.costs[n-1];
		game.amounts[n-1]+=1;
		game.costs[n-1]=game.costs[n-1]*game.costmult[n-1];
		game.progress[n-1]++;
		game.incomes[n-1]+=game.multipliers[n-1];
		if(game.progress[n-1]==8) {
			game.multipliers[n-1]*=1.5;
			game.progress[n-1]=0;
			game.incomes[n-1] = game.incomes[n-1]*1.5;
		}
		update("coinbox",format(game.coins));
		update("i"+(n-1),format(game.incomes[n-1]));
		update("c"+n,format(game.costs[n-1]));
		update("a"+n,format(game.amounts[n-1]));
		update("m"+n,format(game.multipliers[n-1]));
		update("p"+n,game.progress[n-1]);
	update("notationID",game.notation)
	}
}
function step() {
	const s = (new Date().getTime()-game.time)/1000
	game.time = new Date().getTime()
	for(i=7;i>=0;i--) game.amounts[i-1]+=game.incomes[i]*s;
 	game.coins+=game.incomes[0]*s;
	game.totalCoins+=game.incomes[0]*s;
	for(i=1;i<=8;i++) game.incomes[i-1]=game.amounts[i-1]*game.multipliers[i-1];
	update("coinbox",format(game.coins));
	update("incomebox",format(game.incomes[0]));
	for(i=1;i<=8;i++) update("a"+i,format(game.amounts[i-1]));
	for(i=1;i<=7;i++) update("i"+i,format(game.incomes[i]));
	for(i=1;i<=8;i++) update("c"+i,format(game.costs[i-1]));
	for(i=1;i<=8;i++) update("m"+i,format(game.multipliers[i-1]));
	for(i=1;i<=8;i++) update("p"+i,format(game.progress[i-1]));
	getprestige()
	update("prestmult",format(getprestige()/game.boost))
	if(game.boost>1) showElement("prestigeInfo");
	update("prestigeBoost",format(game.boost));
	if(getprestige()/game.boost>=1) document.getElementById("prestigeButton").style.display = "inline-block";
	if(game.coins>=1e63) showElement(UCButton);
	update("UCAmount",getUC());
}
function switchNotation() {
	var notationArray = ["Standard","Scientific","Engineering","Logarithm"]
	game.notation++;
	if(game.notation>notationArray.length-1) game.notation=0;
	update("notationID",notationArray[game.notation]);
}
function save() {
	localStorage.setItem('save',btoa(JSON.stringify(game)))
}
function load(save) {
	game=JSON.parse(atob(save))
	update("coinbox",format(game.coins));
	update("incomebox",format(game.incomes[0]));
	for(i=1;i<=8;i++) update("a"+i,format(game.amounts[i-1]));
	for(i=1;i<=7;i++) update("i"+i,format(game.incomes[i]));
	for(i=1;i<=8;i++) update("c"+i,format(game.costs[i-1]));
	for(i=1;i<=8;i++) update("m"+i,format(game.multipliers[i-1]));
	for(i=1;i<=8;i++) update("p"+i,format(game.progress[i-1]));
	update("prestmult",getprestige())
	if (game.notations===undefined) game.notations=0
	if (game.time===undefined) game.time=new Date().getTime();
	if (game.upgradeCoins===undefined) game.upgradeCoins=0
	if (game.upgrades===undefined) game.upgrades=[]
}
function exportGame() {
	var savefile=btoa(JSON.stringify(game))
	showElement("exportInfo")
	document.getElementById("exportSave").value=btoa(JSON.stringify(game))
}	
function importGame() {
	var input=prompt('Paste in your exported save and press enter.')
	load(input)
}
function init() {
if(localStorage.getItem('save')!=null) load(localStorage.getItem('save'));
setInterval(step,100)
setInterval(save,10000)
}
var tab="generators"
function switchTab(tabName) {
	hideElement(tab)
	showElement(tabName)
	tab=tabName
}
</script>
<title>Username's Incremental game</title>
</head>
<body onload="init()">
You have <span id="coinbox">1</span> coins.<br>
You are getting<span id="incomebox">0</span> coins per second.
<button onclick="switchTab('generators')">Generators</button>
<button onclick="switchTab('options')">Options</button>
<div id="generators" style="display:inline-block">
<button onclick="buy(1)" id="b1">Level 1 x<span id="m1">1</span><br>Cost: <span id="c1">1</span><br>Amount: <span id="a1">0</span> [<span id="p1">0</span>]<br>Income: <span id="i1">0</span></button>
<button onclick="buy(2)" id="b2">Level 2 x<span id="m2">1</span><br>Cost: <span id="c2">100</span><br>Amount: <span id="a2">0</span> [<span id="p2">0</span>]<br>Income: <span id="i2">0</span></button>
<button onclick="buy(3)" id="b3">Level 3 x<span id="m3">1</span><br>Cost: <span id="c3">1e4</span><br>Amount: <span id="a3">0</span> [<span id="p3">0</span>]<br>Income: <span id="i3">0</span></button>
<button onclick="buy(4)" id="b4">Level 4 x<span id="m4">1</span><br>Cost: <span id="c4">1e7</span><br>Amount: <span id="a4">0</span> [<span id="p4">0</span>]<br>Income: <span id="i4">0</span></button>
<button onclick="buy(5)" id="b5">Level 5 x<span id="m5">1</span><br>Cost: <span id="c5">1e10</span><br>Amount: <span id="a5">0</span> [<span id="p5">0</span>]<br>Income: <span id="i5">0</span></button>
<button onclick="buy(6)" id="b6">Level 6 x<span id="m6">1</span><br>Cost: <span id="c6">1e14</span><br>Amount: <span id="a6">0</span> [<span id="p6">0</span>]<br>Income: <span id="i6">0</span></button>
<button onclick="buy(7)" id="b7">Level 7 x<span id="m7">1</span><br>Cost: <span id="c7">1e18</span><br>Amount: <span id="a7">0</span> [<span id="p7">0</span>]<br>Income: <span id="i7">0</span></button>
<button onclick="buy(8)" id="b8">Level 8 x<span id="m8">1</span><br>Cost: <span id="c8">1e23</span><br>Amount: <span id="a8">0</span> [<span id="p8">0</span>]</button>
<div id="prestigeInfo" style="display:none">You have x<span id="prestigeBoost">1</span> boost for all production from prestige.</div>
<button onclick="prestige()" id="prestigeButton" style="display:none">Reset the game to get a production increase. x<span id="prestmult">1.000</span></button>
<button id="UCButton" onclick="upgrade()">Transform your coins into upgrade coins to make the game faster. +<span id="UCAmount">0</span> UC</button>
</div>
<div id="options" style="display:none">
<button onclick="save()">Save</button>
<button onclick="importGame()">import</save>
<button onclick="exportGame()">Export</button>
<button onclick="switchNotation()">Notation: <div id="notationID">Standard</div></button>
<button onclick="hardReset()">Reset the game</button>
<span id="exportInfo" style="display:none">Here is your export save:<input id="exportSave"></input></span>
</div>
<a href="https://discord.gg/ax4C3em">discord</a>
</body>
</html>
